{%- comment -%}
------------------------------------------------------------------------------------------------------------------------
CSS
------------------------------------------------------------------------------------------------------------------------
{%- endcomment -%}
<style>
  /* Add your custom CSS styles here if needed */
</style>

{%- comment -%}
------------------------------------------------------------------------------------------------------------------------
LIQUID
------------------------------------------------------------------------------------------------------------------------
{%- endcomment -%}

{{ 'custom-marque-collection.css' | asset_url | stylesheet_tag }}

<div class="section-spacing section-spacing--tight color-scheme color-scheme--{{ section.settings.color_scheme.id }} color-scheme--bg-{{ color_scheme_hash }}">
  {%- if collections.size == 0 -%}
  <div class="container container--xs">
    <div class="empty-state">
      <div class="prose">
        <h1 class="h4">{{ 'collection.general.all_collections' | t }}</h1>
        <p>{{ 'collection.general.no_collections' | t }}</p>
        {%- assign button_content = 'collection.general.continue_shopping' | t -%}
        {%- render 'button', content: button_content, href: routes.root_url -%}
      </div>
    </div>
  </div>
  {%- else -%}
  <div class="container">
    <div class="brand-nav-container-outer">
    <div class="brand-nav-container">
      {% if request.locale.iso_code == 'en' %}
  <p class="brand-nav-search-text">Search Brands:</p>
        {% else %}
<p class="brand-nav-search-text">Rechercher les marques:</p>
        {% endif %}
        
        <ul class="brand-nav">
          {%- capture current_letter -%}{{ '' }}{%- endcapture -%}
      {%- for collection in collections -%}
        {% if collection.template_suffix == "marque" %}
          {%- if collection.featured_image == blank or section.settings.collections == empty and collection.handle == 'frontpage' -%}
          {%- endif -%}
          {% capture collection_name %}{{ collection.title | strip_html | slice: 0 | upcase }}{% endcapture %}
          {%- assign stripped_sliced_title = collection_name %}
          {%- if collection_name != current_letter -%}
             {%- assign current_letter = collection_name -%}
             <li class="brand-nav-item">
                        <a class="brand-nav-link" href="#letter-{{ current_letter | downcase }}" data-focus-target="#letter-title-{{ current_letter | downcase }}">
                            {{ current_letter }}                      </a>
                        </li>
 {%- endif -%}
                         {%- endif -%}
                         {%- endfor -%}
 </ul>
    </div>
</div>
    <div class="section-stack">
      {%- capture current_letter -%}{{ '' }}{%- endcapture -%}
      {%- for collection in collections -%}
        {% if collection.template_suffix == "marque" %}
          {%- if collection.featured_image == blank or section.settings.collections == empty and collection.handle == 'frontpage' -%}
          {%- endif -%}
          {% capture collection_name %}{{ collection.title | strip_html | slice: 0 | upcase }}{% endcapture %}
          {%- assign stripped_sliced_title = collection_name %}
          {%- if collection_name != current_letter -%}
            {%- if current_letter != '' -%}
            </ul>
            </div>
            </div>
            </li>
            {%- endif -%}
            {%- assign current_letter = collection_name -%}
            <li class="brand-page-list-item js-content-section" id="letter-{{ current_letter | downcase }}">
              <div class="brand-page-list-item-row">
                <div class="brand-group-title-container">
                  <h3 class="brand-group-title js-section-title" id="letter-title-{{ current_letter | lowercase }}">{{ current_letter }}</h3>
                </div>
                <div class="brand-group-list-container">
                  <ul class="brand-group-list collection-list wrap">
          {%- endif -%}

          {%- if collection.template_suffix == "marque" -%}
            <li class="brand-group-list-item">
               {%- if collection.featured_image == blank or section.settings.collections == empty and collection.handle == 'frontpage' -%}
                {%- endif -%}

                <a href="{{ collection.url }}" class="collection-card group">
                  <div class="content-over-media content-over-media--{{ section.settings.image_size }}" style="--content-over-media-overlay: {{ section.settings.overlay_color.rgb }} / {{ section.settings.overlay_opacity | divided_by: 100.0 }};">
                    {%- capture sizes -%}(max-width: 699px) 100vw, (max-width: 1149px) {{ 100 | divided_by: section.settings.collections_per_row_desktop | at_least: 50 }}vw, {{ 100 | divided_by: section.settings.collections_per_row_desktop }}vw{%- endcapture -%}
                {% if collection.featured_image != blank %}    {{- collection.featured_image | image_url: width: collection.featured_image.width | image_tag: loading: 'lazy', sizes: sizes, widths: '200,300,400,500,600,800,1000,1200,1400,1600,1800,2000,2200,2400', class: 'zoom-image group-hover:zoom', draggable: 'false' -}} {% endif %}
     

                    <div class="collection-card__content prose prose--tight {{ section.settings.content_position }}" style="{% render 'surface', text_color: section.settings.text_color %}">
                      <p class="h3">{{ collection.title }}</p>
                    </div>
                  </div>
                </a>
            </li>
          {%- endif -%}

          {%- if forloop.last or stripped_sliced_title != collection_name -%}
                  </ul>
                </div>
              </div>
            </li>
          {%- endif -%}
        {%- endif -%}
      {%- endfor -%}
      </div>
      {%- if section.settings.collections == empty -%}
      {%- render 'pagination', paginate: paginate -%}
      {%- endif -%}
    </div>
  </div>
  {%- endif -%}
</div>







  
{% schema %}
{
  "name": "Marque Collections",
  "class": "shopify-section--main-list-collections",
  "tag": "section",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:global.colors.scheme",
      "default": "scheme-1"
    },
    {
      "type": "checkbox",
      "id": "show_title",
      "label": "t:sections.main_list_collections.show_title",
      "default": true
    },
  
    {
      "type": "range",
      "id": "collections_per_row_desktop",
      "min": 1,
      "max": 4,
      "label": "t:sections.collection_list.collections_per_row_desktop",
      "default": 3
    },
    {
      "type": "select",
      "id": "image_size",
      "label": "t:global.image.size",
      "info": "t:global.image.ratio_avoid_cropping_info",
      "options": [
        {
          "value": "auto",
          "label": "t:global.sizes.original_image_ratio"
        },
        {
          "value": "xs",
          "label": "t:global.sizes.x_small"
        },
        {
          "value": "sm",
          "label": "t:global.sizes.small"
        },
        {
          "value": "md",
          "label": "t:global.sizes.medium"
        },
        {
          "value": "lg",
          "label": "t:global.sizes.large"
        }
      ],
      "default": "auto"
    },
    {
      "type": "select",
      "id": "content_position",
      "label": "t:global.position.content_position",
      "options": [
        {
          "value": "place-self-start text-start",
          "label": "t:global.position.top_left"
        },
        {
          "value": "place-self-start-center text-center",
          "label": "t:global.position.top_center"
        },
        {
          "value": "place-self-start-end text-end",
          "label": "t:global.position.top_right"
        },
        {
          "value": "place-self-center-start text-start",
          "label": "t:global.position.middle_left"
        },
        {
          "value": "place-self-center text-center",
          "label": "t:global.position.middle_center"
        },
        {
          "value": "place-self-center-end text-end",
          "label": "t:global.position.middle_right"
        },
        {
          "value": "place-self-end-start text-start",
          "label": "t:global.position.bottom_left"
        },
        {
          "value": "place-self-end-center text-center",
          "label": "t:global.position.bottom_center"
        },
        {
          "value": "place-self-end text-end",
          "label": "t:global.position.bottom_right"
        }
      ],
      "default": "place-self-end-start text-start"
    },
    {
      "type": "header",
      "content": "t:global.colors.category"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "t:global.colors.text",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "t:global.colors.overlay_color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "t:global.colors.overlay_opacity",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "%",
      "default": 30
    }
  ]
}
{% endschema %}

